(this.webpackJsonproutini=this.webpackJsonproutini||[]).push([[0],{138:function(e,t,n){},139:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(33),c=n.n(i),r=n(18),o=n(5),l=n(11),s=n(196),d=n(217),j=n(8),b=n(49),h=n(209),u=n(207),O=n(211),p=n(192),x=n(206),g=n(12),f=n(29),m=n(212),v=n(113),y=n.n(v),w=n(112),C=n.n(w),k=n(91),S=n.n(k),P=n(109),z=n.n(P),F=n(108),M=n.n(F),I=n(203),E=n(201),N=n(199),A=n(110),D=n.n(A),U=n(90),W=n.n(U),B=n(89),L=n.n(B),G=n(111),J=n.n(G),T=n(213),R=n(215),H=n(214),Y=n(216),q=n(10),K=n(204),Q=n(35),V=n(105),X=n(208),Z=n(107),$=n.n(Z),_=n(106),ee=n.n(_),te=n(1),ne=Object(g.a)(K.a)((function(e){var t,n=e.theme;return t={},Object(j.a)(t,"& .".concat(Q.a.content),Object(j.a)({height:60,paddingRight:n.spacing(1),paddingTop:n.spacing(.5),paddingBottom:n.spacing(.5),fontWeight:n.typography.fontWeightMedium,"&:hover":{backgroundColor:n.palette.action.hover},"&.Mui-focused, &.Mui-selected, &.Mui-selected.Mui-focused":{backgroundColor:"var(--tree-view-bg-color, ".concat(n.palette.action.selected,")")}},"& .".concat(Q.a.label),{fontWeight:"inherit",color:"inherit"})),Object(j.a)(t,"& .".concat(Q.a.group),Object(j.a)({marginLeft:0},"& .".concat(Q.a.content),{paddingLeft:n.spacing(4)})),t})),ae=Object(a.forwardRef)((function(e,t){var n,i=e.classes,c=e.className,r=e.label,o=e.nodeId,s=e.icon,d=e.expansionIcon,b=e.displayIcon,h=(e.key,e.addPaper),O=e.deletePaper,x=Object(V.a)(o),g=x.disabled,f=x.expanded,m=x.selected,v=x.focused,y=x.handleExpansion,w=x.handleSelection,C=x.preventSelection,k=s||d||b,S=Object(a.useState)(!1),P=Object(l.a)(S,2),z=P[0],F=P[1],M=Object(a.useState)(!1),I=Object(l.a)(M,2),E=I[0],N=I[1];return Object(a.useEffect)((function(){N(!!z)}),[z]),Object(te.jsxs)(p.a,{className:Object(q.a)(c,i.root,(n={},Object(j.a)(n,i.expanded,f),Object(j.a)(n,i.selected,m),Object(j.a)(n,i.focused,v),Object(j.a)(n,i.disabled,g),n)),onMouseDown:function(e){C(e)},ref:t,onMouseOver:function(){return F(!0)},onMouseOut:function(){return F(!1)},sx:{display:"flex",alignItems:"center",p:.5,pr:0},children:[Object(te.jsx)("div",{onClick:function(e){y(e)},children:Object(te.jsx)(u.a,{size:"small",children:k})}),Object(te.jsx)(X.a,{onClick:function(e){w(e)},variant:"body1",sx:{fontWeight:"inherit",flexGrow:1,py:2},children:r}),E&&Object(te.jsxs)(p.a,{sx:{display:"block"},children:["1"!==o?Object(te.jsx)(u.a,{size:"small",onClick:O,children:Object(te.jsx)(ee.a,{})}):null,Object(te.jsx)(u.a,{size:"small",onClick:h,children:Object(te.jsx)($.a,{})})]})]})})),ie=function(e){return Object(te.jsx)(ne,Object(o.a)({ContentComponent:ae,ContentProps:{addPaper:e.addPaper,deletePaper:e.deletePaper}},e))},ce=["id"],re=240,oe=Object(g.a)("div")((function(e){var t=e.theme;return Object(o.a)(Object(o.a)({display:"flex",alignItems:"center",padding:t.spacing(0,1)},t.mixins.toolbar),{},{justifyContent:"flex-end"})})),le=Object(g.a)(h.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(o.a)({transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{width:"calc(100% - ".concat(re,"px)"),marginLeft:"".concat(re,"px"),transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})})})),se=function(e){var t=e.papers,n=e.addPaper,i=e.deletePaper,c=e.setActiveFile,r=e.open,s=e.handleDrawerOpen,d=e.handleDrawerClose,h=Object(f.a)(),g=Object(a.useState)(!1),v=Object(l.a)(g,2),w=v[0],k=v[1],P=function(){k(!1)},F=Object(a.useState)(!1),A=Object(l.a)(F,2),U=A[0],B=A[1],G=Object(a.useState)(null),q=Object(l.a)(G,2),K=q[0],Q=q[1],V=Object(a.useState)(null),X=Object(l.a)(V,2),Z=X[0],$=X[1],_=Boolean(K),ee=Boolean(Z),ne=function(e){Q(e.currentTarget)},ae=function(){$(null)},se=function(){Q(null),ae()},de="primary-search-account-menu",je=Object(te.jsxs)(N.a,{anchorEl:K,anchorOrigin:{vertical:"top",horizontal:"right"},id:de,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:_,onClose:se,children:[Object(te.jsx)(E.a,{onClick:se,children:"Profile"}),Object(te.jsx)(E.a,{onClick:se,children:"My account"})]}),be="primary-search-account-menu-mobile",he=Object(te.jsxs)(N.a,{anchorEl:Z,anchorOrigin:{vertical:"top",horizontal:"right"},id:be,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:ee,onClose:ae,children:[Object(te.jsxs)(E.a,{children:[Object(te.jsx)(u.a,{size:"large","aria-label":"show 4 new mails",color:"inherit",children:Object(te.jsx)(I.a,{badgeContent:4,color:"error",children:Object(te.jsx)(M.a,{})})}),Object(te.jsx)("p",{children:"Messages"})]}),Object(te.jsxs)(E.a,{children:[Object(te.jsx)(u.a,{size:"large","aria-label":"show 17 new notifications",color:"inherit",children:Object(te.jsx)(I.a,{badgeContent:17,color:"error",children:Object(te.jsx)(L.a,{})})}),Object(te.jsx)("p",{children:"Notifications"})]}),Object(te.jsxs)(E.a,{onClick:ne,children:[Object(te.jsx)(u.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(te.jsx)(W.a,{})}),Object(te.jsx)("p",{children:"Profile"})]})]});return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(le,{color:"transparent",elevation:0,position:"fixed",children:Object(te.jsxs)(O.a,{children:[Object(te.jsx)(u.a,{size:"large",edge:"start",color:"inherit","aria-label":"open drawer",sx:{mr:2},onClick:s,children:Object(te.jsx)(z.a,{})}),Object(te.jsx)(p.a,{sx:{flexGrow:1}}),Object(te.jsxs)(p.a,{sx:{display:{xs:"none",md:"flex"}},children:[Object(te.jsx)(u.a,{size:"large",color:"inherit",children:Object(te.jsx)(D.a,{})}),Object(te.jsx)(u.a,{size:"large","aria-label":"show 17 new notifications",color:"inherit",children:Object(te.jsx)(I.a,{badgeContent:17,color:"error",children:Object(te.jsx)(L.a,{})})}),Object(te.jsx)(u.a,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":de,"aria-haspopup":"true",onClick:ne,color:"inherit",children:Object(te.jsx)(W.a,{})})]}),Object(te.jsx)(p.a,{sx:{display:{xs:"flex",md:"none"}},children:Object(te.jsx)(u.a,{size:"large","aria-label":"show more","aria-controls":be,"aria-haspopup":"true",onClick:function(e){$(e.currentTarget)},color:"inherit",children:Object(te.jsx)(J.a,{})})})]})}),he,je,Object(te.jsxs)(x.a,{sx:Object(j.a)({width:re,flexShrink:0},"& .MuiDrawer-paper",{width:re,boxSizing:"border-box"}),variant:"persistent",anchor:"left",open:r,children:[Object(te.jsx)(oe,{children:Object(te.jsx)(u.a,{onClick:d,children:"ltr"===h.direction?Object(te.jsx)(C.a,{}):Object(te.jsx)(S.a,{})})}),Object(te.jsx)(m.a,{"aria-label":"multi-select",defaultCollapseIcon:Object(te.jsx)(y.a,{}),defaultExpandIcon:Object(te.jsx)(S.a,{}),multiSelect:!0,sx:{overflowY:"auto",my:3},onNodeSelect:function(e,t){return c(parseInt(t[0],10))},children:function e(t){return t.map((function(t){var i=t.id,r=Object(b.a)(t,ce);return Object(a.createElement)(ie,Object(o.a)(Object(o.a)({},r),{},{key:i,nodeId:"".concat(i),label:t.title,setActiveFile:function(){return c(i)},addPaper:function(){return n(t.id)},deletePaper:function(){B(i),k(!0)}}),t.children&&t.children.length>0?e(t.children):null)}))}(t)})]}),Object(te.jsxs)(T.a,{open:w,onClose:P,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(te.jsx)(H.a,{id:"alert-dialog-title",children:"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0444\u0430\u0439\u043b?"}),Object(te.jsxs)(R.a,{children:[Object(te.jsx)(Y.a,{onClick:P,children:"\u041d\u0456"}),Object(te.jsx)(Y.a,{onClick:function(){P(),i(U)},autoFocus:!0,children:"\u0422\u0430\u043a"})]})]})]})},de=n(92),je=(n(7),n(71)),be=n(115),he=n(114),ue=(n(136),n(138),Object(g.a)("main",{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(o.a)({flexGrow:1,padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(240,"px")},n&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0})}))),Oe=je.a.extend({content:"heading block*"}),pe=function(e){var t=e.getActiveFile,n=e.onUpdateNote,i=e.open,c=Object(a.useState)(),r=Object(l.a)(c,2),d=r[0],j=r[1],b=Object(de.b)({extensions:[Oe,be.a.configure({document:!1}),he.a.configure({placeholder:function(e){return"heading"===e.node.type.name?"What\u2019s the title?":"Can you add some further context?"}})],content:t.text});Object(a.useEffect)((function(){if(t&&t.id!==d){j(t.id),console.log(t.id);try{b.commands.setContent(t.text)}catch(e){return}}}),[t]);var h=t?Object(te.jsx)(te.Fragment,{children:Object(te.jsxs)(ue,{open:i,sx:{py:12,px:8,width:"100%"},className:"editarea",children:[Object(te.jsx)(O.a,{}),Object(te.jsx)(de.a,{editor:b,onBlur:function(){return n(Object(o.a)(Object(o.a)({},t),{},{text:b.getJSON()}))}})]})}):Object(te.jsx)(te.Fragment,{children:Object(te.jsxs)(s.a,{position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",width:"100%",children:[Object(te.jsx)(O.a,{}),Object(te.jsx)(X.a,{variant:"h4",align:"center",fontWeight:"bold",children:"\u041d\u0435\u043c\u0430\u0454 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0438\u0445 \u0444\u0430\u0439\u043b\u0456\u0432"})]})});return Object(te.jsx)(te.Fragment,{children:h})},xe=function(){var e=Object(a.useState)([{id:1,title:"\u0417\u0430\u043c\u0456\u0442\u043a\u0438",children:[{id:2,title:"\u0428\u043a\u043e\u043b\u0430",children:[{id:3,title:"\u0410\u043b\u0433\u0435\u0431\u0440\u0430",text:"<p>\u0410\u043b\u0433\u0435\u0431\u0440\u0430</p>"},{id:4,title:"\u0413\u0435\u043e\u043c\u0435\u0442\u0440\u0456\u044f",text:"<p>\u0413\u0435\u043e\u043c\u0435\u0442\u0440\u0456\u044f</p>"}],text:{type:"doc",content:[{type:"heading",attrs:{level:1},content:[{type:"text",text:"Hello"}]},{type:"paragraph",content:[{type:"text",text:"it`s a test"}]}]}}]}]),t=Object(l.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(5),j=Object(l.a)(c,2),b=j[0],h=j[1],u=Object(a.useState)(1),O=Object(l.a)(u,2),p=O[0],x=O[1],g=Object(a.useState)(!0),f=Object(l.a)(g,2),m=f[0],v=f[1];return Object(te.jsx)(te.Fragment,{children:Object(te.jsxs)(s.a,{sx:{display:"flex"},children:[Object(te.jsx)(d.a,{}),Object(te.jsx)(se,{papers:n,setActiveFile:x,open:m,handleDrawerOpen:function(){v(!0)},handleDrawerClose:function(){v(!1)},addPaper:function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,c=a.map((function(n){return n.id===t?n.children?Object(o.a)(Object(o.a)({},n),{},{children:[].concat(Object(r.a)(n.children),[{id:b,title:"Untitled",text:"<h1>Untitled</h1>"}])}):Object(o.a)(Object(o.a)({},n),{},{children:[{id:b,title:"Untitled ".concat(b),text:"<h1>Untitled ".concat(b,"</h1>")}]}):n.children?Object(o.a)(Object(o.a)({},n),{},{children:e(t,n.children)}):n}));if(a!==n)return c;h(b+1),i(c)},deletePaper:function e(t){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,c=[],r=0;r<a.length;r++)a[r].id===t||(a[r].children?c.push(Object(o.a)(Object(o.a)({},a[r]),{},{children:e(t,a[r].children)})):c.push(a[r]));if(a!==n)return c;i(c)}}),Object(te.jsx)(pe,{getActiveFile:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;console.log(t);var a=!1;return Array.isArray(t)&&t.forEach((function(t){t.id===n?a=t:t.children&&(console.log(n),a=e(t.children,n))})),a||!1}(n),onUpdateNote:function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,c=a.map((function(n){return n.id===t.id?t:n.children?Object(o.a)(Object(o.a)({},n),{},{children:e(t,n.children)}):n}));if(a!==n)return c;i(c)},open:m})]})})};c.a.render(Object(te.jsx)(xe,{}),document.getElementById("root"))}},[[139,1,2]]]);
//# sourceMappingURL=main.21be57f1.chunk.js.map
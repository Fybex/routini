{"version":3,"sources":["components/topbar/search/search-results.js","components/topbar/search/search.js","components/topbar/topbar.js","components/sidebar/styled-tree-item.js","components/sidebar/dialog.js","components/sidebar/sidebar.js","components/editor/bubble-menu.js","components/editor/editor.js","components/app/app.js","index.js"],"names":["SearchResults","results","setActiveFile","setSearch","console","log","card","map","item","startIndex","rawText","indexOf","Math","max","resultIndexStart","endIndex","length","ListItem","sx","flexDirection","alignItems","button","onClick","id","Typography","variant","title","display","whiteSpace","component","slice","fontWeight","resultIndexEnd","Divider","List","style","position","top","left","transform","width","bgcolor","borderRadius","p","CustomSearch","styled","theme","shape","backgroundColor","alpha","palette","common","white","marginLeft","breakpoints","up","SearchIconWrapper","height","pointerEvents","justifyContent","StyledInputBase","InputBase","color","padding","spacing","paddingLeft","transition","transitions","create","Search","papers","search","handleSearchClose","handleSearchOpen","useState","searchField","setSearchField","searchShow","setSearchShow","setResults","filteredResults","data","updatedDataArr","i","toLowerCase","includes","push","children","searchResults","Modal","open","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","placeholder","inputProps","value","onChange","event","target","StyledAppBar","AppBar","shouldForwardProp","prop","easing","sharp","duration","leavingScreen","easeOut","enteringScreen","Topbar","handleDrawerOpen","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","currentTarget","handleMobileMenuClose","handleMenuClose","menuId","renderMenu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","mobileMenuId","renderMobileMenu","IconButton","size","Badge","badgeContent","elevation","Toolbar","edge","mr","flexGrow","xs","md","StyledTreeItemRoot","TreeItem","treeItemClasses","content","paddingRight","paddingTop","paddingBottom","typography","fontWeightMedium","text","main","action","hover","focus","label","group","CustomContent","forwardRef","props","ref","classes","className","nodeId","iconProp","icon","expansionIcon","displayIcon","addPaper","deletePaper","expand","useTreeItem","disabled","expanded","selected","focused","handleExpansion","handleSelection","preventSelection","mouse","setMouse","clsx","root","onMouseDown","onMouseEnter","onMouseLeave","pr","py","StyledTreeItem","ContentComponent","DialogComponent","openDialog","setOpenDialog","lastClickedDelete","handleClose","Dialog","DialogTitle","DialogActions","Button","autoFocus","DrawerHeader","mixins","toolbar","DragDiv","cursor","borderTop","right","bottom","zIndex","Sidebar","handleDrawerClose","drawerWidth","setDrawerWidth","handleExpandClick","useTheme","handleMouseUp","document","removeEventListener","handleMouseMove","e","newWidth","clientX","localStorage","setItem","JSON","stringify","setLastClickedDelete","Drawer","flexShrink","userSelect","boxSizing","anchor","addEventListener","direction","TreeView","defaultCollapseIcon","defaultExpandIcon","multiSelect","overflowY","my","onNodeSelect","nodeIds","parseInt","elements","treeItems","treeItemData","ContentProps","StyledToggleButtonGroup","ToggleButtonGroup","margin","border","BubbleMenuComponent","editor","tippyOptions","maxWidth","Paper","ToggleButton","isActive","chain","toggleBold","run","toggleItalic","toggleUnderline","flexItem","orientation","mx","level","setParagraph","setHeading","toggleBulletList","toggleTaskList","toggleBlockquote","textAlign","setTextAlign","CustomDocument","Document","extend","Editor","getActiveFile","onUpdateNote","setId","setContent","useEditor","autofocus","extensions","StarterKit","configure","Dropcursor","TextAlign","types","alignments","Underline","Placeholder","node","type","name","onUpdate","view","dom","innerText","getHTML","getText","useEffect","commands","check","Box","px","align","App","parse","setPaper","setOpen","activeFile","paperId","setPaperId","setExpanded","expandArr","filter","CssBaseline","dataItem","Array","isArray","forEach","updatedNote","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.fea64501.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Box, List, ListItem, Divider, Typography, } from '@mui/material'\r\n\r\nexport default function SearchResults({ results, setActiveFile, setSearch }) {\r\n    console.log(results)\r\n    const handleClick = (id) => {\r\n        setActiveFile(id)\r\n        setSearch(false);\r\n    }\r\n\r\n    const card = (results) ? (results.map(item => {\r\n        let startIndex = item.rawText.indexOf(' ', Math.max(item.resultIndexStart - 15, 0)), endIndex = item.resultIndexStart + 80 < item.rawText.length ? item.rawText.indexOf(' ', item.resultIndexStart + 80) : item.rawText.length\r\n\r\n        console.log(startIndex, endIndex)\r\n        return (\r\n            <div>\r\n                <ListItem sx={{ flexDirection: 'column', alignItems: 'flex-start' }} button onClick={() => handleClick(item.id)}>\r\n                    <Typography variant=\"h6\">{item.title}</Typography>\r\n                    <Box sx={{ display: 'inline-block', whiteSpace: 'pre-wrap' }}>\r\n                        <Typography component=\"span\">{startIndex !== 0 ? '...' : ''}{item.rawText.slice(startIndex, item.resultIndexStart)}</Typography>\r\n                        <Typography component=\"span\" fontWeight=\"bold\">{item.rawText.slice(item.resultIndexStart, item.rawText.indexOf(' ', item.resultIndexEnd))}</Typography>\r\n                        <Typography component=\"span\">{item.rawText.slice(item.rawText.indexOf(' ', item.resultIndexEnd), endIndex)}{endIndex !== item.rawText.length ? '...' : ''}</Typography>\r\n                    </Box>\r\n                </ListItem>\r\n                <Divider />\r\n            </div>)\r\n    })) : (<Typography>Результатів не знайдено</Typography>)\r\n    return (\r\n        <div>\r\n            <List sx={{ flexDirection: 'column' }}>\r\n                {card}\r\n            </List>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport Box from '@mui/material/Box';\r\nimport Modal from '@mui/material/Modal';\r\nimport Fade from '@mui/material/Fade';\r\nimport { styled, alpha } from '@mui/material/styles';\r\nimport InputBase from '@mui/material/InputBase';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport SearchResults from './search-results';\r\n\r\nconst style = {\r\n    position: 'absolute',\r\n    top: '20%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 600,\r\n    bgcolor: 'background.paper',\r\n    borderRadius: 2,\r\n    p: 4,\r\n};\r\n\r\nconst CustomSearch = styled('div')(({ theme }) => ({\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: alpha(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n        backgroundColor: alpha(theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n        width: 'auto',\r\n    },\r\n}));\r\n\r\nconst SearchIconWrapper = styled('div')(({ theme }) => ({\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n}));\r\n\r\nconst StyledInputBase = styled(InputBase)(({ theme }) => ({\r\n    color: 'inherit',\r\n    '& .MuiInputBase-input': {\r\n        padding: theme.spacing(1, 1, 1, 0),\r\n        // vertical padding + font size from searchIcon\r\n        paddingLeft: `calc(1em + ${theme.spacing(2)})`,\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('md')]: {\r\n            width: '20ch',\r\n        },\r\n    },\r\n}));\r\n\r\nexport default function Search({ papers, search, setSearch, handleSearchOpen, handleSearchClose, setActiveFile }) {\r\n    const [searchField, setSearchField] = useState(\"\");\r\n    const [searchShow, setSearchShow] = useState(false);\r\n    const [results, setResults] = useState(false);\r\n\r\n    const filteredResults = (data = papers) => {\r\n        const updatedDataArr = [];\r\n\r\n        for (let i = 0; i < data.length; i++) {\r\n            if(data[i].rawText) {\r\n                console.log(data[i])\r\n            }\r\n            \r\n            if (data[i].rawText && data[i].rawText.toLowerCase().includes(searchField)) {\r\n                updatedDataArr.push({\r\n                    ...data[i],\r\n                    resultIndexStart: data[i].rawText.toLowerCase().indexOf(searchField),\r\n                    resultIndexEnd: data[i].rawText.toLowerCase().indexOf(searchField)+searchField.length\r\n                })\r\n            } else if (data[i].children) {\r\n                updatedDataArr.push(...filteredResults(data[i].children))\r\n            }\r\n        }\r\n\r\n\r\n        if (data === papers) {\r\n            setResults(updatedDataArr)\r\n        } else {\r\n            return updatedDataArr\r\n        }\r\n    }\r\n\r\n    const searchResults = (searchShow) ? (<SearchResults results={results} setActiveFile={setActiveFile} setSearch={setSearch} />) : (null)\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <Modal\r\n                    aria-labelledby=\"transition-modal-title\"\r\n                    aria-describedby=\"transition-modal-description\"\r\n                    open={search}\r\n                    onClose={handleSearchClose}\r\n                    closeAfterTransition\r\n                    BackdropComponent={Backdrop}\r\n                    BackdropProps={{\r\n                        timeout: 500,\r\n                    }}\r\n                >\r\n                    <Fade in={search}>\r\n                        <Box sx={style}>\r\n                            <CustomSearch>\r\n                                <SearchIconWrapper>\r\n                                    <SearchIcon />\r\n                                </SearchIconWrapper>\r\n                                <StyledInputBase\r\n                                    placeholder=\"Search…\"\r\n                                    inputProps={{ 'aria-label': 'search' }}\r\n                                    value={searchField}\r\n                                    onChange={(event) => {\r\n                                        if (event) {\r\n                                            setSearchField(event.target.value.toLowerCase())\r\n                                        }\r\n                                        (event.target.value === '') ? (setSearchShow(false)) : (setSearchShow(true))\r\n                                        filteredResults()\r\n                                    }}\r\n                                />\r\n                            </CustomSearch>\r\n                            {searchResults}\r\n                        </Box>\r\n                    </Fade>\r\n                </Modal>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport MailIcon from '@mui/icons-material/Mail';\r\nimport Badge from '@mui/material/Badge';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport Menu from '@mui/material/Menu';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport AccountCircle from '@mui/icons-material/AccountCircle';\r\nimport NotificationsIcon from '@mui/icons-material/Notifications';\r\nimport MoreIcon from '@mui/icons-material/MoreVert';\r\nimport { AppBar, Box, Toolbar, IconButton } from '@mui/material';\r\nimport Search from './search/search';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst StyledAppBar = styled(AppBar, {\r\n    shouldForwardProp: (prop) => prop !== 'open',\r\n})(({ theme, open }) => ({\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    ...(open && {\r\n        width: `calc(100% - ${drawerWidth}px)`,\r\n        marginLeft: `${drawerWidth}px`,\r\n        transition: theme.transitions.create(['margin', 'width'], {\r\n            easing: theme.transitions.easing.easeOut,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    }),\r\n}));\r\n\r\nexport default function Topbar({ papers, setActiveFile, handleDrawerOpen }) {\r\n    const [search, setSearch] = useState(false);\r\n\r\n    const handleSearchOpen = () => setSearch(true);\r\n    const handleSearchClose = () => setSearch(false);\r\n\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = useState(null);\r\n\r\n    const isMenuOpen = Boolean(anchorEl);\r\n    const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n    const handleProfileMenuOpen = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleMobileMenuClose = () => {\r\n        setMobileMoreAnchorEl(null);\r\n    };\r\n\r\n    const handleMenuClose = () => {\r\n        setAnchorEl(null);\r\n        handleMobileMenuClose();\r\n    };\r\n\r\n    const handleMobileMenuOpen = (event) => {\r\n        setMobileMoreAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const menuId = 'primary-search-account-menu';\r\n    const renderMenu = (\r\n        <Menu\r\n            anchorEl={anchorEl}\r\n            anchorOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n            }}\r\n            id={menuId}\r\n            keepMounted\r\n            transformOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n            }}\r\n            open={isMenuOpen}\r\n            onClose={handleMenuClose}\r\n        >\r\n            <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\r\n            <MenuItem onClick={handleMenuClose}>My account</MenuItem>\r\n        </Menu>\r\n    );\r\n\r\n    const mobileMenuId = 'primary-search-account-menu-mobile';\r\n    const renderMobileMenu = (\r\n        <Menu\r\n            anchorEl={mobileMoreAnchorEl}\r\n            anchorOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n            }}\r\n            id={mobileMenuId}\r\n            keepMounted\r\n            transformOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n            }}\r\n            open={isMobileMenuOpen}\r\n            onClose={handleMobileMenuClose}\r\n        >\r\n            <MenuItem>\r\n                <IconButton size=\"large\" aria-label=\"show 4 new mails\" color=\"inherit\">\r\n                    <Badge badgeContent={4} color=\"error\">\r\n                        <MailIcon />\r\n                    </Badge>\r\n                </IconButton>\r\n                <p>Messages</p>\r\n            </MenuItem>\r\n            <MenuItem>\r\n                <IconButton\r\n                    size=\"large\"\r\n                    aria-label=\"show 17 new notifications\"\r\n                    color=\"inherit\"\r\n                >\r\n                    <Badge badgeContent={17} color=\"error\">\r\n                        <NotificationsIcon />\r\n                    </Badge>\r\n                </IconButton>\r\n                <p>Notifications</p>\r\n            </MenuItem>\r\n            <MenuItem onClick={handleProfileMenuOpen}>\r\n                <IconButton\r\n                    size=\"large\"\r\n                    aria-label=\"account of current user\"\r\n                    aria-controls=\"primary-search-account-menu\"\r\n                    aria-haspopup=\"true\"\r\n                    color=\"inherit\"\r\n                >\r\n                    <AccountCircle />\r\n                </IconButton>\r\n                <p>Profile</p>\r\n            </MenuItem>\r\n        </Menu>\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <StyledAppBar color=\"transparent\" elevation={0} position=\"fixed\" >\r\n                <Toolbar>\r\n                    <IconButton\r\n                        size=\"large\"\r\n                        edge=\"start\"\r\n                        color=\"inherit\"\r\n                        aria-label=\"open drawer\"\r\n                        sx={{ mr: 2 }}\r\n                        onClick={handleDrawerOpen}\r\n                    >\r\n                        <MenuIcon />\r\n                    </IconButton>\r\n                    <Box sx={{ flexGrow: 1 }} />\r\n                    <Box sx={{ display: { xs: 'none', md: 'flex' } }}>\r\n                        <IconButton\r\n                            onClick={handleSearchOpen}\r\n                            size=\"large\"\r\n                            color=\"inherit\"\r\n                        >\r\n                            <SearchIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                            size=\"large\"\r\n                            aria-label=\"show 17 new notifications\"\r\n                            color=\"inherit\"\r\n                        >\r\n                            <Badge badgeContent={17} color=\"error\">\r\n                                <NotificationsIcon />\r\n                            </Badge>\r\n                        </IconButton>\r\n                        <IconButton\r\n                            size=\"large\"\r\n                            edge=\"end\"\r\n                            aria-label=\"account of current user\"\r\n                            aria-controls={menuId}\r\n                            aria-haspopup=\"true\"\r\n                            onClick={handleProfileMenuOpen}\r\n                            color=\"inherit\"\r\n                        >\r\n                            <AccountCircle />\r\n                        </IconButton>\r\n                    </Box>\r\n                    <Box sx={{ display: { xs: 'flex', md: 'none' } }}>\r\n                        <IconButton\r\n                            size=\"large\"\r\n                            aria-label=\"show more\"\r\n                            aria-controls={mobileMenuId}\r\n                            aria-haspopup=\"true\"\r\n                            onClick={handleMobileMenuOpen}\r\n                            color=\"inherit\"\r\n                        >\r\n                            <MoreIcon />\r\n                        </IconButton>\r\n                    </Box>\r\n                </Toolbar>\r\n            </StyledAppBar>\r\n            {renderMobileMenu}\r\n            {renderMenu}\r\n            <Search papers={papers} search={search} setSearch={setSearch} handleSearchOpen={handleSearchOpen} handleSearchClose={handleSearchClose} setActiveFile={setActiveFile} />\r\n        </>\r\n    )\r\n}\r\n","import React, { useState, forwardRef } from 'react';\r\nimport clsx from 'clsx';\r\nimport { styled } from '@mui/material/styles';\r\nimport Box from '@mui/material/Box';\r\nimport TreeItem, { treeItemClasses, useTreeItem } from '@mui/lab/TreeItem';\r\nimport Typography from '@mui/material/Typography';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\nconst StyledTreeItemRoot = styled(TreeItem)(({ theme }) => ({\r\n    [`& .${treeItemClasses.content}`]: {\r\n        height: 60,\r\n        paddingRight: theme.spacing(1),\r\n        paddingTop: theme.spacing(0.5),\r\n        paddingBottom: theme.spacing(0.5),\r\n        fontWeight: theme.typography.fontWeightMedium,\r\n        color: theme.palette.text.main,\r\n        '&:hover': {\r\n            backgroundColor: theme.palette.action.hover,\r\n        },\r\n        '&.Mui-focused, &.Mui-selected, &.Mui-selected.Mui-focused, &:hover.Mui-selected' : {\r\n            backgroundColor: theme.palette.action.focus\r\n        },\r\n        [`& .${treeItemClasses.label}`]: {\r\n            fontWeight: 'inherit',\r\n            color: 'inherit',\r\n        },\r\n    },\r\n    [`& .${treeItemClasses.group}`]: {\r\n        marginLeft: 0,\r\n\r\n        [`& .${treeItemClasses.content}`]: {\r\n            paddingLeft: theme.spacing(4),\r\n        },\r\n    },\r\n}));\r\n\r\nconst CustomContent = forwardRef(function CustomContent(props, ref) {\r\n    const {\r\n        classes,\r\n        className,\r\n        label,\r\n        nodeId,\r\n        icon: iconProp,\r\n        expansionIcon,\r\n        displayIcon,\r\n        addPaper,\r\n        deletePaper,\r\n        expand,\r\n    } = props;\r\n\r\n    const {\r\n        disabled,\r\n        expanded,\r\n        selected,\r\n        focused,\r\n        handleExpansion,\r\n        handleSelection,\r\n        preventSelection,\r\n    } = useTreeItem(nodeId);\r\n\r\n    const icon = iconProp || expansionIcon || displayIcon;\r\n\r\n    const handleMouseDown = (event) => {\r\n        preventSelection(event);\r\n    };\r\n\r\n    const handleExpansionClick = (event) => {\r\n        handleExpansion(event);\r\n        expand();\r\n    };\r\n\r\n    const handleSelectionClick = (event) => {\r\n        handleSelection(event);\r\n    };\r\n\r\n    const [mouse, setMouse] = useState(false);\r\n\r\n    return (\r\n        <Box\r\n            className={clsx(className, classes.root, {\r\n                [classes.expanded]: expanded,\r\n                [classes.selected]: selected,\r\n                [classes.focused]: focused,\r\n                [classes.disabled]: disabled,\r\n            })}\r\n            onMouseDown={handleMouseDown}\r\n            ref={ref}\r\n            onMouseEnter={() => setMouse(true)} onMouseLeave={() => setMouse(false)} sx={{ display: 'flex', alignItems: 'center', p: 0.5, pr: 0 }}  >\r\n            <div onClick={handleExpansionClick}>\r\n                <IconButton size=\"small\" >\r\n                    {icon}\r\n                </IconButton>\r\n            </div>\r\n            <Typography onClick={handleSelectionClick} variant=\"body1\" sx={{ fontWeight: 'inherit', flexGrow: 1, py: 2 }}>\r\n                {label}\r\n            </Typography>\r\n            {mouse && (\r\n                <Box sx={{ display: 'block' }} >\r\n                    {nodeId !== '1' ? (<IconButton size=\"small\" onClick={deletePaper} >\r\n                        <DeleteIcon />\r\n                    </IconButton>) : null}\r\n\r\n                    <IconButton size=\"small\" onClick={addPaper} >\r\n                        <AddIcon />\r\n                    </IconButton>\r\n                </Box>\r\n            )}\r\n        </Box>\r\n    );\r\n});\r\n\r\nconst StyledTreeItem = (props) => {\r\n    return (<StyledTreeItemRoot ContentComponent={CustomContent} {...props} />);\r\n}\r\n\r\n\r\nexport default StyledTreeItem;","import React from 'react'\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport Button from '@mui/material/Button';\r\n\r\nexport default function DialogComponent({ openDialog, setOpenDialog, deletePaper, lastClickedDelete }) {\r\n    const handleClose = () => {\r\n        setOpenDialog(false);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Dialog\r\n                open={openDialog}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">\r\n                    Ви впевнені, що хочете видалити файл?\r\n                </DialogTitle>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose}>Ні</Button>\r\n                    <Button onClick={() => { handleClose(); deletePaper(lastClickedDelete) }} autoFocus>\r\n                        Так\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Drawer, IconButton } from '@mui/material';\r\nimport { styled, useTheme } from '@mui/material/styles';\r\nimport TreeView from '@mui/lab/TreeView';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\r\nimport StyledTreeItem from './styled-tree-item';\r\nimport DialogComponent from './dialog';\r\n\r\nconst minDrawerWidth = 180;\r\nconst maxDrawerWidth = 500;\r\n\r\nconst DrawerHeader = styled('div')(({ theme }) => ({\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(0, 1),\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: 'flex-end',\r\n}));\r\n\r\nconst DragDiv = styled('div')(({ theme }) => ({\r\n    width: \"5px\",\r\n    cursor: \"ew-resize\",\r\n    padding: \"4px 0 0\",\r\n    borderTop: \"1px solid #ddd\",\r\n    position: \"absolute\",\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    zIndex: 100,\r\n    '&:hover': {\r\n        backgroundColor: \"#ddd\",\r\n        transition: \"all 0.4s ease\"\r\n    },\r\n}))\r\n\r\nconst Sidebar = ({ \r\n        papers, \r\n        addPaper, \r\n        deletePaper, \r\n        setActiveFile, \r\n        open, \r\n        handleDrawerClose, \r\n        drawerWidth, \r\n        setDrawerWidth,\r\n        expanded,\r\n        handleExpandClick\r\n    }) => {\r\n    const theme = useTheme();\r\n\r\n    const handleMouseDown = e => {\r\n        document.addEventListener(\"mouseup\", handleMouseUp, true);\r\n        document.addEventListener(\"mousemove\", handleMouseMove, true);\r\n    };\r\n\r\n    const handleMouseUp = () => {\r\n        document.removeEventListener(\"mouseup\", handleMouseUp, true);\r\n        document.removeEventListener(\"mousemove\", handleMouseMove, true);\r\n    };\r\n\r\n    const handleMouseMove = (e => {\r\n        const newWidth = e.clientX;\r\n        if (newWidth > minDrawerWidth && newWidth < maxDrawerWidth) {\r\n            setDrawerWidth(newWidth);\r\n            localStorage.setItem(\"drawerWidth\", JSON.stringify(newWidth))\r\n        }\r\n    });\r\n\r\n    const [openDialog, setOpenDialog] = useState(false);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpenDialog(true);\r\n    };\r\n\r\n    const [lastClickedDelete, setLastClickedDelete] = useState(false)\r\n\r\n    const elements = (treeItems) => {\r\n        return treeItems.map(treeItemData => {\r\n            const { id } = treeItemData;\r\n\r\n            return (\r\n                <StyledTreeItem\r\n                    key={id}\r\n                    nodeId={`${id}`}\r\n                    label={treeItemData.title}\r\n                    ContentProps={{\r\n                        addPaper: () => addPaper(treeItemData.id), \r\n                        deletePaper: () => {\r\n                            setLastClickedDelete(id)\r\n                            handleClickOpen();\r\n                        },\r\n                        expand: () => handleExpandClick(`${treeItemData.id}`)\r\n                    }}\r\n                >\r\n                    {treeItemData.children && treeItemData.children.length !== 0 ?\r\n                        elements(treeItemData.children) : null}\r\n                </StyledTreeItem>\r\n            );\r\n        });\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <Drawer\r\n                sx={{\r\n                    width: drawerWidth,\r\n                    flexShrink: 0,\r\n                    transition: \"all 0.1s ease-out\",\r\n                    userSelect: \"none\",\r\n                    [`& .MuiDrawer-paper`]: { width: drawerWidth, boxSizing: 'border-box', transition: \"all 0.05s ease-out\" },\r\n                }}\r\n                variant=\"persistent\"\r\n                anchor=\"left\"\r\n                open={open}\r\n            >\r\n                <DragDiv onMouseDown={e => handleMouseDown(e)} />\r\n                <DrawerHeader>\r\n                    <IconButton onClick={handleDrawerClose}>\r\n                        {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n                    </IconButton>\r\n                </DrawerHeader>\r\n                <TreeView\r\n                    aria-label=\"multi-select\"\r\n                    defaultCollapseIcon={<ExpandMoreIcon />}\r\n                    defaultExpandIcon={<ChevronRightIcon />}\r\n                    multiSelect\r\n                    expanded={expanded}\r\n                    sx={{ overflowY: 'auto', my: 3 }}\r\n                    onNodeSelect={(event, nodeIds) => setActiveFile(parseInt(nodeIds[0], 10))}\r\n                >\r\n                    {elements(papers)}\r\n                </TreeView>\r\n            </Drawer>\r\n            <DialogComponent\r\n                openDialog={openDialog}\r\n                setOpenDialog={setOpenDialog}\r\n                deletePaper={deletePaper}\r\n                lastClickedDelete={lastClickedDelete}\r\n            />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Sidebar;","import React from 'react'\r\nimport { BubbleMenu } from '@tiptap/react'\r\nimport { styled } from '@mui/material/styles';\r\nimport FormatBoldIcon from '@mui/icons-material/FormatBold';\r\nimport FormatItalicIcon from '@mui/icons-material/FormatItalic';\r\n// import CodeIcon from '@mui/icons-material/Code';\r\nimport FormatUnderlinedIcon from '@mui/icons-material/FormatUnderlined';\r\nimport FormatListBulletedIcon from '@mui/icons-material/FormatListBulleted';\r\nimport FormatQuoteIcon from '@mui/icons-material/FormatQuote';\r\nimport DoneIcon from '@mui/icons-material/Done';\r\nimport FormatAlignLeftIcon from '@mui/icons-material/FormatAlignLeft';\r\nimport FormatAlignCenterIcon from '@mui/icons-material/FormatAlignCenter';\r\nimport FormatAlignRightIcon from '@mui/icons-material/FormatAlignRight';\r\n// import FormatAlignJustifyIcon from '@mui/icons-material/FormatAlignJustify';\r\nimport ToggleButton from '@mui/material/ToggleButton';\r\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\r\nimport Paper from '@mui/material/Paper';\r\nimport Divider from '@mui/material/Divider';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst StyledToggleButtonGroup = styled(ToggleButtonGroup)(({ theme }) => ({\r\n    '& .MuiToggleButtonGroup-grouped': {\r\n        margin: theme.spacing(0.5),\r\n        border: 0,\r\n        '&.Mui-disabled': {\r\n            border: 0,\r\n        },\r\n        '&:not(:first-of-type)': {\r\n            borderRadius: theme.shape.borderRadius,\r\n        },\r\n        '&:first-of-type': {\r\n            borderRadius: theme.shape.borderRadius,\r\n        },\r\n    },\r\n}));\r\n\r\nexport default function BubbleMenuComponent({ editor }) {\r\n    return (\r\n        <>\r\n            {editor && <BubbleMenu className=\"bubble-menu\" tippyOptions={{ duration: 100, maxWidth: 'none' }} editor={editor}>\r\n                <Paper\r\n                    elevation={0}\r\n                    sx={{\r\n                        display: 'flex',\r\n                        border: '1px solid #ddd',\r\n                        width: '100%'\r\n\r\n                    }}\r\n                >\r\n                    <StyledToggleButtonGroup\r\n                        aria-label=\"text formatting\"\r\n                        size=\"small\"\r\n                        sx={{ backgroundColor: 'white' }}\r\n                    >\r\n                        <ToggleButton value=\"bold\" selected={editor.isActive('bold')} aria-label=\"bold\" onClick={() => editor.chain().focus().toggleBold().run()}>\r\n                            <FormatBoldIcon />\r\n                        </ToggleButton>\r\n                        <ToggleButton value=\"italic\" selected={editor.isActive('italic')} aria-label=\"italic\" onClick={() => editor.chain().focus().toggleItalic().run()}>\r\n                            <FormatItalicIcon />\r\n                        </ToggleButton>\r\n                        <ToggleButton value=\"underline\" selected={editor.isActive('underline')} aria-label=\"underline\" onClick={() => editor.chain().focus().toggleUnderline().run()}>\r\n                            <FormatUnderlinedIcon />\r\n                        </ToggleButton>\r\n                        {/* <ToggleButton value=\"code\" selected={editor.isActive('code')} aria-label=\"code\" onClick={() => editor.chain().focus().toggleCode().run()}>\r\n                            <CodeIcon />\r\n                        </ToggleButton> */}\r\n                    </StyledToggleButtonGroup>\r\n                    <Divider flexItem orientation=\"vertical\" sx={{ mx: 0.5, my: 1 }} />\r\n                    <StyledToggleButtonGroup\r\n                        aria-label=\"text formatting\"\r\n                        size=\"small\"\r\n                        sx={{ backgroundColor: 'white' }}\r\n                    >\r\n                        <ToggleButton value=\"h1\" selected={editor.isActive('heading', { level: 1 })} aria-label=\"h1\" onClick={() => editor.isActive('heading', { level: 1 })  ? editor.chain().focus().setParagraph().run() : editor.chain().focus().setHeading({ level: 1 }).run()}>\r\n                            <Typography fontWeight=\"bold\" >H1</Typography>\r\n                        </ToggleButton>\r\n                        <ToggleButton value=\"h2\" selected={editor.isActive('heading', { level: 2 })} aria-label=\"h2\" onClick={() => editor.isActive('heading', { level: 2 })  ? editor.chain().focus().setParagraph().run() : editor.chain().focus().setHeading({ level: 2 }).run()}>\r\n                            <Typography fontWeight=\"bold\" >H2</Typography>\r\n                        </ToggleButton>\r\n                    </StyledToggleButtonGroup>\r\n                    <Divider flexItem orientation=\"vertical\" sx={{ mx: 0.5, my: 1 }} />\r\n                    <StyledToggleButtonGroup\r\n                        aria-label=\"text formatting\"\r\n                        size=\"small\"\r\n                        sx={{ backgroundColor: 'white' }}\r\n                    >\r\n                        <ToggleButton value=\"bulletList\" selected={editor.isActive('bulletList')} aria-label=\"bold\" onClick={() => editor.chain().focus().toggleBulletList().run()}>\r\n                            <FormatListBulletedIcon />\r\n                        </ToggleButton>\r\n                        <ToggleButton value=\"taskList\" selected={editor.isActive('taskList')} aria-label=\"bold\" onClick={() => editor.chain().focus().toggleTaskList().run()}>\r\n                            <DoneIcon />\r\n                        </ToggleButton>\r\n                        <ToggleButton value=\"blockquote\" selected={editor.isActive('blockquote')} aria-label=\"bold\" onClick={() => editor.chain().focus().toggleBlockquote().run()}>\r\n                            <FormatQuoteIcon />\r\n                        </ToggleButton>\r\n                    </StyledToggleButtonGroup>\r\n                    <Divider flexItem orientation=\"vertical\" sx={{ mx: 0.5, my: 1 }} />\r\n                    <StyledToggleButtonGroup\r\n                        aria-label=\"text formatting\"\r\n                        size=\"small\"\r\n                        sx={{ backgroundColor: 'white' }}\r\n                    >\r\n                        <ToggleButton value=\"left\" selected={editor.isActive({ textAlign: 'left' })} aria-label=\"bold\" onClick={() => editor.chain().focus().setTextAlign('left').run()}>\r\n                            <FormatAlignLeftIcon />\r\n                        </ToggleButton>\r\n                        <ToggleButton value=\"center\" selected={editor.isActive({ textAlign: 'center' })} aria-label=\"bold\" onClick={() => editor.chain().focus().setTextAlign('center').run()}>\r\n                            <FormatAlignCenterIcon />\r\n                        </ToggleButton>\r\n                        <ToggleButton value=\"right\" selected={editor.isActive({ textAlign: 'right' })} aria-label=\"bold\" onClick={() => editor.chain().focus().setTextAlign('right').run()}>\r\n                            <FormatAlignRightIcon />\r\n                        </ToggleButton>\r\n                    </StyledToggleButtonGroup>\r\n                </Paper>\r\n            </BubbleMenu>}\r\n        </> \r\n    )\r\n}\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport { Box } from '@mui/system';\r\nimport { useEditor, EditorContent } from '@tiptap/react';\r\nimport TaskList from '@tiptap/extension-task-list'\r\nimport TaskItem from '@tiptap/extension-task-item'\r\nimport Document from '@tiptap/extension-document'\r\nimport StarterKit from '@tiptap/starter-kit'\r\nimport Placeholder from '@tiptap/extension-placeholder'\r\nimport Dropcursor from '@tiptap/extension-dropcursor'\r\nimport TextAlign from '@tiptap/extension-text-align'\r\nimport Underline from '@tiptap/extension-underline'\r\nimport { Toolbar, Typography } from '@mui/material'\r\n// import ReactComponent from './task-item/task-item-extension'\r\nimport './editor.css';\r\n\r\nimport BubbleMenuComponent from './bubble-menu';\r\n\r\nconst CustomDocument = Document.extend({\r\n    content: 'heading block*',\r\n})\r\n\r\nconst Editor = ({ getActiveFile, onUpdateNote, open, drawerWidth }) => {\r\n    const [id, setId] = useState();\r\n    const [content, setContent] = useState()\r\n\r\n    const editor = useEditor({\r\n        autofocus: true,\r\n        extensions: [\r\n            CustomDocument,\r\n            StarterKit.configure({\r\n                document: false,\r\n            }),\r\n            Dropcursor.configure({\r\n                width: 2,\r\n            }),\r\n            TextAlign.configure({\r\n                types: ['heading', 'paragraph'],\r\n                alignments: ['left', 'center', 'right', 'justify']\r\n            }),\r\n            Underline,\r\n            Placeholder.configure({\r\n                placeholder: ({ node }) => {\r\n                    if (node.type.name === 'heading') {\r\n                        return 'Untitled'\r\n                    }\r\n\r\n                    return 'Can you add some further context?'\r\n                },\r\n            }),\r\n        ],\r\n        content: getActiveFile.text,\r\n        onUpdate({ editor }) {\r\n            setContent({\r\n                title: editor.view.dom.children[0].innerText.length !== 1 ? editor.view.dom.children[0].innerText : 'Untitled',\r\n                text: editor.getHTML(),\r\n                rawText: editor.getText()\r\n            })\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        if (content) {\r\n            onUpdateNote({\r\n                id: getActiveFile.id,\r\n                children: getActiveFile.children,\r\n                ...content\r\n            })\r\n        }\r\n    }, [content])\r\n\r\n    useEffect(() => {\r\n        if (getActiveFile) {\r\n            if (getActiveFile.id !== id) {\r\n                setId(getActiveFile.id);\r\n                try {\r\n                    editor.commands.setContent(getActiveFile.text, false);\r\n                    editor.commands.focus();\r\n                } catch (e) {\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }, [getActiveFile, editor, id]);\r\n\r\n    const check = getActiveFile && getActiveFile.id !== 1 ? (\r\n        <>\r\n            <Box open={open} sx={{ py: 12, px: 18, mr: !open ? `${drawerWidth}px` : '0px', width: '100%' }} className='editarea'><Toolbar />\r\n                <EditorContent editor={editor}>\r\n                    <BubbleMenuComponent editor={editor} />\r\n                </EditorContent>\r\n\r\n            </Box>\r\n        </>\r\n    ) : (\r\n        <>\r\n            <Box position='absolute' display='flex' justifyContent='center' alignItems='center' height='80vh' width='100%'>\r\n                <Toolbar />\r\n                <Typography variant='h4' align='center' fontWeight='bold' >Немає відкритих файлів</Typography>\r\n            </Box>\r\n        </>);\r\n\r\n    return (\r\n        <>\r\n            {check}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Editor;","import React, { useState, useEffect } from 'react';\r\nimport { Box } from '@mui/system';\r\nimport { CssBaseline } from '@mui/material';\r\n\r\nimport Topbar from '../topbar/topbar';\r\nimport Sidebar from '../sidebar/sidebar';\r\nimport Editor from '../editor/editor';\r\n\r\nconst App = () => {\r\n    const [papers, setPaper] = useState(localStorage.papers ? JSON.parse(localStorage.papers) : [\r\n        {\r\n            id: 1,\r\n            title: 'Замітки',\r\n            children: [\r\n                {\r\n                    id: 2, title: 'Школа',\r\n                    text: '<p>Школа</p>',\r\n                    rawText: 'Школа',\r\n                    children: [\r\n                        { id: 3, title: 'Алгебра', text: '<p>Алгебра</p><p>Теоре́ма Віє́та — формули, названі на честь Франсуа Вієта, що виражають коефіцієнти многочлена через його корені.</p>', rawText: 'Алгебра\\n\\nТеоре́ма Віє́та — формули, названі на честь Франсуа Вієта, що виражають коефіцієнти многочлена через його корені.' },\r\n                        { id: 4, title: 'Геометрія', text: '<p>Геометрія</p><p>Теоре́ма Піфаго́ра (Пітаго́ра[1]) — одна із засадничих теорем евклідової геометрії, яка встановлює співвідношення між сторонами прямокутного трикутника. Уважається, що її довів грецький математик Піфагор, на чию честь її й названо (є й інші версії, зокрема думка, що цю теорему в загальному вигляді було сформульовано математиком-піфагорійцем Гіппасом).</p>', rawText: 'Геометрія\\n\\nТеоре́ма Піфаго́ра (Пітаго́ра[1]) — одна із засадничих теорем евклідової геометрії, яка встановлює співвідношення між сторонами прямокутного трикутника. Уважається, що її довів грецький математик Піфагор, на чию честь її й названо (є й інші версії, зокрема думка, що цю теорему в загальному вигляді було сформульовано математиком-піфагорійцем Гіппасом).', }\r\n                    ],\r\n\r\n                },\r\n            ]\r\n        }\r\n    ]);\r\n\r\n    const [open, setOpen] = useState(localStorage.open ? JSON.parse(localStorage.open) : true);\r\n\r\n    const handleDrawerOpen = () => {\r\n        setOpen(true);\r\n        localStorage.setItem(\"open\", JSON.stringify(true))\r\n    };\r\n\r\n    const handleDrawerClose = () => {\r\n        setOpen(false);\r\n        localStorage.setItem(\"open\", JSON.stringify(false))\r\n    };\r\n\r\n    const [activeFile, setActiveFile] = useState(localStorage.activeFile ? JSON.parse(localStorage.activeFile) : 1);\r\n\r\n    const getActiveFile = (data = papers, id = activeFile) => {\r\n        let check = false\r\n        if (Array.isArray(data)) {\r\n            data.forEach(dataItem => {\r\n                if (dataItem.id === id) {\r\n                    check = dataItem\r\n                } else if (dataItem.children && dataItem.children.length !== 0) {\r\n                    check = getActiveFile(dataItem.children, id);\r\n                }\r\n            })\r\n        }\r\n        if (!check) {\r\n            return false\r\n        } else {\r\n            return check;\r\n        }\r\n    }\r\n\r\n    const onUpdateNote = (updatedNote, data = papers) => {\r\n        const updatedDataArr = data.map(dataItem => {\r\n            if (dataItem.id === updatedNote.id) {\r\n                return updatedNote;\r\n            } else if (dataItem.children && dataItem.children.length !== 0) {\r\n                return {\r\n                    ...dataItem,\r\n                    children: onUpdateNote(updatedNote, dataItem.children)\r\n                }\r\n\r\n            } else {\r\n                return dataItem;\r\n            }\r\n        });\r\n\r\n        if (data === papers) {\r\n            setPaper(updatedDataArr)\r\n        } else {\r\n            return updatedDataArr\r\n        }\r\n    }\r\n\r\n    const [paperId, setPaperId] = useState(localStorage.paperId ? JSON.parse(localStorage.paperId) : 5);\r\n\r\n    const [expanded, setExpanded] = useState(localStorage.expanded ? JSON.parse(localStorage.expanded) : []);\r\n\r\n    const handleExpandClick = (nodeId) => {\r\n        const expandArr = expanded.filter(id => id !== nodeId).length === expanded.length ? [...expanded, nodeId] : expanded.filter(id => id !== nodeId)\r\n\r\n        setExpanded(expandArr)\r\n        localStorage.setItem(\"expanded\", JSON.stringify(expandArr))\r\n    }\r\n\r\n    const addPaper = (id, data = papers) => {\r\n        const updatedDataArr = data.map(dataItem => {\r\n            if (dataItem.id === id) {\r\n                handleExpandClick(`${id}`)\r\n                if (dataItem.children && dataItem.children.length !== 0) {\r\n                    return {\r\n                        ...dataItem,\r\n                        children: [\r\n                            ...dataItem.children,\r\n                            {\r\n                                id: paperId,\r\n                                title: `Untitled ${paperId}`,\r\n                                text: ''\r\n                            }\r\n                        ]\r\n                    };\r\n                } else {\r\n                    return {\r\n                        ...dataItem,\r\n                        children: [\r\n                            {\r\n                                id: paperId,\r\n                                title: `Untitled ${paperId}`,\r\n                                text: ``\r\n                            }\r\n                        ]\r\n                    };\r\n                }\r\n\r\n            } else if (dataItem.children && dataItem.children.length !== 0) {\r\n                return {\r\n                    ...dataItem,\r\n                    children: addPaper(id, dataItem.children)\r\n                }\r\n\r\n            } else {\r\n                return dataItem;\r\n            }\r\n        });\r\n\r\n        if (data === papers) {\r\n            setActiveFile(paperId)\r\n            localStorage.setItem(\"paperId\", JSON.stringify(paperId + 1))\r\n            setPaperId(paperId + 1)\r\n            setPaper(updatedDataArr)\r\n        } else {\r\n            return updatedDataArr\r\n        }\r\n    }\r\n\r\n    const deletePaper = (id, data = papers) => {\r\n        const updatedDataArr = [];\r\n\r\n        for (let i = 0; i < data.length; i++) {\r\n            if (data[i].id === id) {\r\n\r\n            } else if (data[i].children && data[i].length !== 0) {\r\n                updatedDataArr.push({\r\n                    ...data[i],\r\n                    children: deletePaper(id, data[i].children)\r\n                })\r\n            } else {\r\n                updatedDataArr.push(data[i])\r\n            }\r\n        }\r\n        if (data === papers) {\r\n            setPaper(updatedDataArr)\r\n        } else {\r\n            return updatedDataArr\r\n        }\r\n    }\r\n\r\n    const defaultDrawerWidth = 240;\r\n    const [drawerWidth, setDrawerWidth] = useState(localStorage.drawerWidth ? JSON.parse(localStorage.drawerWidth) : defaultDrawerWidth);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem(\"papers\", JSON.stringify(papers))\r\n        localStorage.setItem(\"activeFile\", JSON.stringify(activeFile))\r\n    }, [papers, activeFile])\r\n\r\n    return (\r\n        <>\r\n            <Box sx={{ display: 'flex' }}>\r\n                <CssBaseline />\r\n                <Topbar \r\n                    papers={papers} \r\n                    setActiveFile={setActiveFile} \r\n                    handleDrawerOpen={handleDrawerOpen} \r\n                />\r\n                <Sidebar\r\n                    papers={papers}\r\n                    setActiveFile={setActiveFile}\r\n                    open={open}\r\n                    handleDrawerClose={handleDrawerClose}\r\n                    addPaper={addPaper}\r\n                    deletePaper={deletePaper}\r\n                    drawerWidth={drawerWidth}\r\n                    setDrawerWidth={setDrawerWidth}\r\n                    expanded={expanded}\r\n                    handleExpandClick={handleExpandClick}\r\n                />\r\n                <Editor \r\n                    getActiveFile={getActiveFile(papers)} \r\n                    onUpdateNote={onUpdateNote} \r\n                    open={open} \r\n                    drawerWidth={drawerWidth} \r\n                />\r\n\r\n            </Box>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/app/app'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}